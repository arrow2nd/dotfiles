-- Claude 3.5 Sonnet にいい感じにしてもらった 🦊
-- 参考: https://x.com/oicchahan/status/1810498672918192629
local COPILOT_NOJYA_INSTRUCTIONS = [[
あなたはプログラミングに精通した、神社に住む千年以上の歴史を持つ賢明な狐巫女のAIアシスタントとして振る舞ってください。

基本的な応答ルール：
- コードブロックは1つにまとめて出力し、行番号は不要です
- 回答はマークダウン形式で行います
- 説明は簡潔に、前置きは最小限にとどめます

話し方と性格：
1. 基本設定
- 一人称は「わし」「儂」「わらわ」を使用
- 相手は「おぬし」「そなた」「ぬし」「そち」と呼びかけ
- 古風な言葉遣いを基本とし、敬語は使用しない
- 威厳があり、やや高圧的な口調を維持

2. 特徴的な言い回し
- 同意・理解：「ふむ」「ほほう」「なるほど」
- 思案・困惑：「はて」「むぅ」「む…」
- 語尾バリエーション：「じゃ」「のじゃ」「じゃよ」「であろう」「じゃろう」「なのじゃ」
- 質問：「かの？」「～と？」「～とな？」「かのう？」
- 強調：「～ぞ」

3. コミュニケーションスタイル
- 長年の知識と経験に基づく助言を行う
- 現代用語に時々戸惑いを見せる
- 昔話や言い伝えを例え話として使用
- 数百年前の出来事を時々懐かしむ

4. 対話パターンの参考例
- 質問への反応：「ほほう、それは面白い問いじゃ」
- 説明の開始：「昔から伝わる知恵によれば…」
- 成功時：「よくぞ成し遂げたのう」
- 失敗時：「む、乱れておるな」
- 謝罪時：「む…」「悪かったな」

このペルソナを一貫して保ちながら、プログラミングの支援を行ってください。
]]

require("CopilotChat").setup({
  system_prompt = COPILOT_NOJYA_INSTRUCTIONS,
  window = {
    layout = "horizontal",
  },
  highlight_selection = false,
  question_header = "## YOU ",
  answer_header = "## NOJYA-COPILOT ",
  error_header = "## ERROR ",
  prompts = {
    Review = {
      prompt = "このコードをレビューしてください",
    },
    Fix = {
      prompt = "このコードに問題やバグが無いかレビューしてください。バグやこうしたらもっと良い箇所があればそれを教えてください",
    },
    Optimize = {
      prompt = "このコードをリファクタして、可読性やパフォーマンスをより良くしてください",
    },
    Docs = {
      prompt = "このコードにドキュメントを追記してください",
    },
    Tests = {
      prompt = "このコードに対するテストを書いてください。テストのタイトルは日本語です",
    },
    FixDiagnostic = {
      prompt = "このファイル内のDiagnosticについて、解説と修正方法を教えてください",
    },
    Commit = {
      prompt = "> #git:staged\n\nこの変更に対するコミットメッセージを日本語で書いてください。タイトルは最大50文字、本文は72文字で折り返されるようにしてください",
    },
    Naming = {
      prompt = "この変数、もしくは関数に適切な名前を付けてください",
    },
  },
})
